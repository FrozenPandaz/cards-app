<dom-module is="card-viewer">
	<style>
		:host {
			padding: 20px;
			display: block;
		}

		h1 {
			display: inline-block;
		}

		iron-pages {
			padding: 20px;
		}

		paper-toggle-button {
			display: inline-block;
			float: right;
		}

		.list-header {
			height: 6em;
		}

		iron-list {
			@apply(--layout-fit);
			margin-top: 6em;
			width: 50%;
			float: left;
			display: inline-block;
		}

		iron-list:nth-of-type(2) {
			left: 50%;
		}
		
	</style>
	<template>
		<firebase-collection
			location="https://card-app.firebaseio.com/cards/white"
			data="{{white-cards}}"></firebase-collection>
		<firebase-collection
			location="https://card-app.firebaseio.com/cards/black"
			data="{{black-cards}}"></firebase-collection>
		<div class="list-header">
			<!-- <paper-toggle-button id="black" name="black" active="{{black}}"></paper-toggle-button> -->
			<h1>Check out these cards!</h1>
		</div>
		<div class="list-container">

			<iron-list items="{{white-cards}}">
				<template>
					<custom-card card-text="{{item.text}}"></custom-card>
				</template>
			</iron-list>
			<iron-list items="{{black-cards}}">
				<template>
					<custom-card black card-text="{{item.text}}"></custom-card>
				</template>
			</iron-list>
			<!-- <iron-pages selected="{{type}}" attr-for-selected="id">
				<span id="white">
					<template is="dom-repeat" items="{{white-cards}}" filter=notCount initialCount=20 targetFramerate=60>
						<custom-card class="white" card-text="{{item.text}}" id="{{item.__firebaseKey__}}"></custom-card>
					</template>
				</span>

				<span id="black">
					<template is="dom-repeat" items="{{black-cards}}" filter=notCount initialCount=20 targetFramerate=60>
						<custom-card black card-text="{{item.text}}" id="{{item.__firebaseKey__}}"></custom-card>
					</template>
				</span>
			</iron-pages> -->
		</div>
	</template>
	<script>
		Polymer({
			is: 'card-viewer',
			behaviors: [Polymer.NeonAnimationRunnerBehavior],
			properties: {
				black: Boolean,
				cardId: String,
				type: {
					type:String,
					computed: 'getType(black)',
					observer: 'animate'
				},
				animationConfig: {
					value: function() {
						return {
							'black': {
								name: 'fade-in-animation',
								node: this.$.black,
								timing: {
									duration: 500
								}
							},
							'white': {
								name: 'fade-in-animation',
								node: this.$.white,
								timing: {
									duration: 500
								}
							}
						}
					}
				}
			},
			animate: function(type) {
				this.playAnimation(type);
				this.$[type].style.display = 'inline-block';
			},
			getType: function(black) {
				return black ? 'black' : 'white';
			},
			notCount: function(data) {
				return data.__firebaseKey__ !== 'count' && data.__firebaseKey__ !== "existingCards";
			}
		})
	</script>
</dom-module>