<dom-module is="home-page">
	<style>
		paper-card {
			elevation: 1;
			height: 50%;
			width: 50%;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
		paper-input {
			margin: auto;
			elevation: 2;
			width: 70%;
		}
		paper-button {
			background-color: red;
			width: 10em;
			margin-left: 50%;
			transform: translate(-50%, 0%);
		}
	</style>
	<template>
		<!-- <template is="dom-bind"> -->
			<firebase-document
				id="firebase"
				location="https://card-app.firebaseio.com/"
				data="{{data}}"
				dataAsObject></firebase-document>
			<paper-card>
				<header>Please enter a Game Name</header>
				<paper-input type="text" label="Game Name" value={{gameName::input}}></paper-input>
				<a href="/#!/{{gameId}}/">
					<paper-button type="submit" on-tap="newGame">Start Game{{data.count}}</paper-button>
				</a>
			</paper-card>
		<!-- </template> -->
	</template>
	<script>
		HomePage = Polymer({
			is:'home-page',
			behaviors: [Polymer.FirebaseQueryBehavior],
			ready: function() {
				this.firebase = this.$.firebase;
			},
			newGame: function() {
				this.gameId = 'game_' + this.firebase.data.count;
				this.firebase.query.child(this.gameId).set({users:0, name:this.gameName});
				this.firebase.query.child('count').set(this.firebase.data.count + 1);
			}
		});
	</script>
</dom-module>