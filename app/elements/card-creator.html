<dom-module is="card-creator">
	<style>
		paper-material {
			width: 90%;
			margin: auto;
			margin-top: 5%;
			padding: 20px;
			elevation: 2;
			display: block;
		}
		paper-toggle-button {
			float:right;
		}
		iron-form {
			position: relative;
			float: left;
			display: block;
			width: 50%;
		}
		paper-button {
			position: relative;
			display: inline-block;
		}
		custom-card {
			display: inline-block;
			float: right;
			margin: 0px 20px 20px 0px;
			width: 30%;
			height: 30%;
		}
		custom-card ::content paper-card {
			width: 80%;
			height: 80%;
		}
		custom-card ::content paper-card:hover {
			width: 100%;
			height: 100%;
		}

		custom-card.true ::content paper-card {
			background-color: black;
			color: white;
		}
		span {
			display: inline-block;
			width: 100%;
		}
	</style>
	<template>
		<firebase-document
			id="firebase"
			location="https://card-app.firebaseio.com/cards"
			data="{{data}}"></firebase-document>
		<paper-material>
			<span>
				<h1>Submit your own Cards</h1>
				<iron-form id="form">
					<paper-toggle-button id="black" name="black" aria-active-attribute="black" active="{{black}}"></paper-toggle-button>
					<paper-input name="text" type="text" label="Card" value="{{cardText::input}}"></paper-input>
					<paper-button raised type="submit" on-tap="submitForm">Submit</paper-button>
				</iron-form>
				<custom-card class$="{{black}}"card-text=[[cardText]]>
				</custom-card>
			</span>
		</paper-material>
	</template>
	<script>
		Polymer({
			is: 'card-creator',
			properties: {
				cardText: String,
				black: {
					type: Boolean,
					notify: true
				}
			},
			submitForm: function() {
				var type = this.black ? 'black' : 'white',
					firebase = this.$.firebase,
					count = firebase.data[type].count;
				firebase.query.child(type).child('count').set(count+1);
				firebase.query.child(type).child('card_'+(count+1)).set(this.cardText);
			}
		})
	</script>
</dom-module>